<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Game服文档-日记本任务系统2</title>
    <meta charset="UTF-8">
    <meta name="keywords" content="doc"/>
    <meta name="description" content="文档文字版"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, minimal-ui, shrink-to-fit=no">
    <link rel="stylesheet" href="../css/github-markdown.css">
    <style>
    	.markdown-body {
    		box-sizing: border-box;
    		min-width: 200px;
    		max-width: 980px;
    		margin: 0 auto;
    		padding: 45px;
    	}

    	@media (max-width: 767px) {
    		.markdown-body {
    			padding: 15px;
    		}
    	}
    </style>
</head>

<body>
    <article class="markdown-body">
     <h1>日记本任务系统New</h1>
<h2>当前日记本内容记录和进度信息-Interface</h2>
<p><em>command=diary@curTasks</em></p>
<pre><code class="language-json">{
    &quot;status&quot;:1,
    &quot;requestId&quot;:0,
    &quot;data&quot;:{
        &quot;ps&quot;:{                          // 进度条信息
            &quot;dgs&quot;:[                     // 阶段进度列表（进度条总长度固定为100）
                {
                    &quot;p&quot;:20,             // 进度点长度
                    &quot;pic&quot;:&quot;dg1&quot;,        // 进度点图片
                    &quot;rewards&quot;:[         // 如果有此字段，则进行自动弹出奖励面板
                        {
                            &quot;id&quot;:1,
                            &quot;num&quot;:1,
                            &quot;resId&quot;:3
                        }
                    ]
                },
                {
                    &quot;p&quot;:50,
                    &quot;pic&quot;:&quot;dg2&quot;
                },
                {
                    &quot;p&quot;:100,
                    &quot;pic&quot;:&quot;dg3&quot;
                }
            ],
            &quot;np&quot;:25,                    // 当前最新进度  
            &quot;cp&quot;:0                      // 上一次进度值。如果np &gt; cp，做一个长进度表现    
        },

        &quot;ts&quot;:{                                       // 日记本任务信息
            &quot;day&quot;:1,                                       // 天数
            &quot;tasks&quot;:[                                      // 任务列表 
                {
                    &quot;name&quot;:&quot;随便找点东西做个可以休息的#床铺#吧&quot;, // 名称
                    &quot;cc&quot;:0,                                // 任务当前星星数
                    &quot;tc&quot;:1,                                // 任务总星星数
                    &quot;pic&quot;:&quot;t3&quot;,                            // 任务图片
                    &quot;taskId&quot;:1003                          // 任务id
                },
                {
                    &quot;name&quot;:&quot;&quot;,
                    &quot;cc&quot;:0,
                    &quot;pic&quot;:&quot;t4&quot;,
                    &quot;taskId&quot;:1004,
                    &quot;tc&quot;:1
                }
            ]
        }
    }
}

</code></pre>
<h2>日记本条目完成一次-Interface</h2>
<p><em>command=diary@finish&amp;taskId=1002</em></p>
<table>
<thead>
<tr><th>属性</th><th>必填</th><th>说明</th></tr>
</thead>
<tbody>
<tr><td>taskId</td><td>Y</td><td>任务ID</td></tr>
</tbody>
</table>
<h2>星星数量推送</h2>
<p><em>PLAYER_STAR(&quot;push@player&quot;, &quot;star&quot;)</em></p>
<pre><code class="language-json">{
    &quot;status&quot;:3,
    &quot;requestId&quot;:0,
    &quot;cmd&quot;:&quot;push@player&quot;,
    &quot;data&quot;:{
        &quot;star&quot;:{
            &quot;num&quot;:0
        }
    },
}

</code></pre>
<h2>奖励枚举</h2>
<p>枚举内的<code>Id</code>对应<code>resId</code></p>
<pre><code class="language-java">    /**
     * 建筑
     */
    BUILDING(1),
    /**
     * 体力
     */
    VIT(2),
    /**
     * 道具
     */
    PROP(3),
    /**
     * 建筑等级
     */
    BUILDING_LV(4),
    /**
     * 建造加速
     */
    BUILDING_CD(5),
    /**
     * 星星
     */
    STAR(6),
</code></pre>

    </article>
</body>

</html>