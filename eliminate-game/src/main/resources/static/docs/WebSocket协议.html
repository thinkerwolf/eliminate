<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Game服文档-WebSocket协议</title>
    <meta charset="UTF-8">
    <meta name="keywords" content="doc"/>
    <meta name="description" content="文档文字版"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, minimal-ui, shrink-to-fit=no">
    <link rel="stylesheet" href="../css/github-markdown.css">
    <style>
    	.markdown-body {
    		box-sizing: border-box;
    		min-width: 200px;
    		max-width: 980px;
    		margin: 0 auto;
    		padding: 45px;
    	}

    	@media (max-width: 767px) {
    		.markdown-body {
    			padding: 15px;
    		}
    	}
    </style>
</head>

<body>
    <article class="markdown-body">
     <h1>网络协议Websocket</h1>
<h2>请求包格式</h2>
<p>command=test@jjj&amp;requestId=1&amp;name=wukai&amp;num=10</p>
<ul>
<li>command：   代表指令，必须要有</li>
<li>requestId： 代表请求Id，响应数据会将requestId回传</li>
<li>其他：      参数列表</li>
</ul>
<h2>接口返回数据json</h2>
<h3>state 类型枚举</h3>
<ul>
<li>EXCEPTION(0) : 异常</li>
<li>SUCCESS(1) : 成功</li>
<li>FAIL(2)   : 失败</li>
<li>PUSH(3)    :  推送</li>
</ul>
<h2>调用成功测试接口</h2>
<p>command=user@getUser&amp;requestId=1&amp;userId=1</p>
<pre><code class="language-json">{
    &quot;state&quot;:1,
    &quot;requestId&quot;:1,
    &quot;data&quot;:{
        &quot;lastLogin&quot;:1589619048296,
        &quot;password&quot;:&quot;1234&quot;,
        &quot;user_id&quot;:1,
        &quot;pic&quot;:&quot;1&quot;,
        &quot;username&quot;:&quot;wukai&quot;
    }
}
</code></pre>
<h2>调用失败测试接口</h2>
<p>command=user@getFail&amp;requestId=1&amp;userId=1</p>
<pre><code class="language-json">{
    &quot;state&quot;:2,
    &quot;requestId&quot;:1,
    &quot;msg&quot;:&quot;No user 1&quot;
}
</code></pre>
<h2>产生推送测试接口</h2>
<p>command=test@push&amp;requestId=1&amp;msg=wulala</p>
<pre><code class="language-json">{
	&quot;state&quot;:3,
    &quot;cmd&quot;:&quot;push@test&quot;,
    &quot;data&quot;:{
        &quot;lastLogin&quot;:1589619256653,
        &quot;password&quot;:&quot;1234&quot;,
        &quot;user_id&quot;:1,
        &quot;pic&quot;:&quot;1&quot;,
        &quot;username&quot;:&quot;wukai&quot;
    }
}
</code></pre>

    </article>
</body>

</html>