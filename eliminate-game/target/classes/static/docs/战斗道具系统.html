<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Game服文档-战斗道具系统</title>
    <meta charset="UTF-8">
    <meta name="keywords" content="doc"/>
    <meta name="description" content="文档文字版"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, minimal-ui, shrink-to-fit=no">
    <link rel="stylesheet" href="../css/github-markdown.css">
    <style>
    	.markdown-body {
    		box-sizing: border-box;
    		min-width: 200px;
    		max-width: 980px;
    		margin: 0 auto;
    		padding: 45px;
    	}

    	@media (max-width: 767px) {
    		.markdown-body {
    			padding: 15px;
    		}
    	}
    </style>
</head>

<body>
    <article class="markdown-body">
     <h1>战斗道具系统</h1>
<h2>道具类型</h2>
<ul>
<li>WITHDRAW(1)  撤回一步</li>
<li>ELIMINATE(2) 自动消除一组块</li>
<li>SHUFFLE(3) 打乱重排</li>
</ul>
<h2>战场信息增加道具-Push</h2>
<p>BATTLE_INI(&quot;push@battle&quot;, &quot;ini&quot;)</p>
<pre><code class="language-json">{
    &quot;status&quot;:3,
    &quot;requestId&quot;:0,
    &quot;cmd&quot;:&quot;push@battle&quot;,
    &quot;data&quot;:{
        &quot;ini&quot;:{
            &quot;battleId&quot;:&quot;battle_100220200613131422641_4&quot;,
            &quot;props&quot;:[   // 道具列表
                {
                    &quot;propId&quot;:1,
                    &quot;num&quot;:8
                },
                {
                    &quot;propId&quot;:2,
                    &quot;num&quot;:8
                },
                {
                    &quot;propId&quot;:3,
                    &quot;num&quot;:9
                }
            ]
        }
    }
}
</code></pre>
<h2>使用道具-Interface</h2>
<p>command=battle@useProp&amp;propId=1  propId对应道具类型的id</p>
<h2>使用撤回道具后的推送-Push</h2>
<p>BATTLE_BACK_BLOCK(&quot;push@battle&quot;, &quot;backBlock&quot;)</p>
<pre><code class="language-json">{
    &quot;status&quot;:3,
    &quot;requestId&quot;:0,
    &quot;cmd&quot;:&quot;push@battle&quot;,
    &quot;data&quot;:{
        &quot;backBlock&quot;:{
            &quot;pid&quot;:4,
            &quot;backs&quot;:[ // 撤回到地图上图块列表
                {
                    &quot;layer&quot;:0,
                    &quot;y&quot;:1,
                    &quot;x&quot;:5,
                    &quot;pic&quot;:&quot;2001&quot;
                }
            ]
        }
    }
}
</code></pre>
<h2>使用自动消除道具后的推送-Push</h2>
<p>BATTLE_TAKE_BLOCK(&quot;push@battle&quot;, &quot;takeBlock&quot;)</p>
<pre><code class="language-json">{
    &quot;status&quot;:3,
    &quot;requestId&quot;:0,
    &quot;cmd&quot;:&quot;push@battle&quot;,
    &quot;data&quot;:{
        &quot;takeBlock&quot;:{
            &quot;pid&quot;:4,
            &quot;takes&quot;:[     // 自动取的块
                {
                    &quot;layer&quot;:1,
                    &quot;y&quot;:2,
                    &quot;x&quot;:2,
                    &quot;pic&quot;:&quot;1003&quot;
                },
                {
                    &quot;layer&quot;:1,
                    &quot;y&quot;:3,
                    &quot;x&quot;:2,
                    &quot;pic&quot;:&quot;1003&quot;
                },
                {
                    &quot;layer&quot;:1,
                    &quot;y&quot;:1,
                    &quot;x&quot;:1,
                    &quot;pic&quot;:&quot;1003&quot;
                }
            ]
        }
    }
}
</code></pre>
<h2>使用打乱重排道具后的推送-Push</h2>
<p>BATTLE_SHUFFLE_BLOCK(&quot;push@battle&quot;, &quot;shuffleBlock&quot;)</p>
<pre><code class="language-json">{
    &quot;status&quot;:3,
    &quot;requestId&quot;:0,
    &quot;cmd&quot;:&quot;push@battle&quot;,
    &quot;data&quot;:{
        &quot;shuffleBlock&quot;:{
            &quot;pid&quot;:4,
            &quot;layers&quot;:[
                {
                    &quot;layer&quot;:0,
                    &quot;height&quot;:8,
                    &quot;width&quot;:7,
                    &quot;empty&quot;:false,
                    &quot;blocks&quot;:[
                        {
                            &quot;layer&quot;:0,
                            &quot;y&quot;:1,
                            &quot;x&quot;:5,
                            &quot;pic&quot;:&quot;2001&quot;
                        },
                        {
                            &quot;layer&quot;:0,
                            &quot;y&quot;:4,
                            &quot;x&quot;:4,
                            &quot;pic&quot;:&quot;1002&quot;
                        },
                        {
                            &quot;layer&quot;:0,
                            &quot;y&quot;:3,
                            &quot;x&quot;:3,
                            &quot;pic&quot;:&quot;1003&quot;
                        },
                        {
                            &quot;layer&quot;:0,
                            &quot;y&quot;:2,
                            &quot;x&quot;:4,
                            &quot;pic&quot;:&quot;1001&quot;
                        },
                        {
                            &quot;layer&quot;:0,
                            &quot;y&quot;:4,
                            &quot;x&quot;:2,
                            &quot;pic&quot;:&quot;2001&quot;
                        },
                        {
                            &quot;layer&quot;:0,
                            &quot;y&quot;:2,
                            &quot;x&quot;:2,
                            &quot;pic&quot;:&quot;1003&quot;
                        },
                        {
                            &quot;layer&quot;:0,
                            &quot;y&quot;:1,
                            &quot;x&quot;:1,
                            &quot;pic&quot;:&quot;2001&quot;
                        }
                    ]
                },
                {
                    &quot;layer&quot;:1,
                    &quot;height&quot;:9,
                    &quot;width&quot;:8,
                    &quot;empty&quot;:false,
                    &quot;blocks&quot;:[
                        {
                            &quot;layer&quot;:1,
                            &quot;y&quot;:1,
                            &quot;x&quot;:1,
                            &quot;pic&quot;:&quot;1001&quot;
                        },
                        {
                            &quot;layer&quot;:1,
                            &quot;y&quot;:2,
                            &quot;x&quot;:2,
                            &quot;pic&quot;:&quot;1001&quot;
                        },
                        {
                            &quot;layer&quot;:1,
                            &quot;y&quot;:2,
                            &quot;x&quot;:3,
                            &quot;pic&quot;:&quot;1003&quot;
                        },
                        {
                            &quot;layer&quot;:1,
                            &quot;y&quot;:3,
                            &quot;x&quot;:2,
                            &quot;pic&quot;:&quot;2001&quot;
                        },
                        {
                            &quot;layer&quot;:1,
                            &quot;y&quot;:3,
                            &quot;x&quot;:3,
                            &quot;pic&quot;:&quot;2001&quot;
                        },
                        {
                            &quot;layer&quot;:1,
                            &quot;y&quot;:4,
                            &quot;x&quot;:4,
                            &quot;pic&quot;:&quot;1002&quot;
                        },
                        {
                            &quot;layer&quot;:1,
                            &quot;y&quot;:1,
                            &quot;x&quot;:4,
                            &quot;pic&quot;:&quot;1002&quot;
                        }
                    ]
                }
            ]
        }
    }
}
</code></pre>

    </article>
</body>

</html>